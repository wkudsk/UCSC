%!PS-Adobe-3.0
%%Creator: groff version 1.22.2
%%CreationDate: Wed Oct 17 14:06:32 2018
%%Title: asg3-smalltalk-hzip.ps
%%BoundingBox: 0 0 612 792
%%DocumentNeededResources: font Courier
%%+ font Courier-Bold
%%+ font NewCenturySchlbk-Bold
%%+ font NewCenturySchlbk-Roman
%%+ font NewCenturySchlbk-Italic
%%+ font Times-Roman
%%+ font Symbol
%%DocumentSuppliedResources: procset grops 1.22 2
%%+ font Courier-Elite-Bold
%%+ font Courier-Elite
%%Pages: 4
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 2
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Courier
%%IncludeResource: font Courier-Bold
%%IncludeResource: font NewCenturySchlbk-Bold
%%IncludeResource: font NewCenturySchlbk-Roman
%%IncludeResource: font NewCenturySchlbk-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Symbol
%%BeginResource: font Courier-Elite-Bold
%%DocumentNeededResources: font Courier-Bold
/MakeTransformedFont{
findfont dup maxlength dict begin
{
exch dup dup/FID ne exch/UniqueID ne and{
exch def
}{
pop pop
}ifelse
}forall
/FontBBox
currentdict/FontBBox get
4 array copy def
FontBBox aload pop
4 index transform 4 2 roll
4 index transform 4 2 roll
FontBBox astore pop
FontMatrix exch matrix concatmatrix
/FontMatrix exch def
dup/FontName exch def
currentdict end
definefont pop
}bind def
/Courier-Elite-Bold
[ .833333333 0 0 1 0 0 ]
/Courier-Bold
MakeTransformedFont
%%EndResource
%%BeginResource: font Courier-Elite
%%DocumentNeededResources: font Courier
/MakeTransformedFont{
findfont dup maxlength dict begin
{
exch dup dup/FID ne exch/UniqueID ne and{
exch def
}{
pop pop
}ifelse
}forall
/FontBBox
currentdict/FontBBox get
4 array copy def
FontBBox aload pop
4 index transform 4 2 roll
4 index transform 4 2 roll
FontBBox astore pop
FontMatrix exch matrix concatmatrix
/FontMatrix exch def
dup/FontName exch def
currentdict end
definefont pop
}bind def
/Courier-Elite
[ .833333333 0 0 1 0 0 ]
/Courier
MakeTransformedFont
%%EndResource
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE/NewCenturySchlbk-Italic@0 ENC0
/NewCenturySchlbk-Italic RE/Courier-Elite-Bold@0 ENC0/Courier-Elite-Bold
RE/Courier-Elite@0 ENC0/Courier-Elite RE/NewCenturySchlbk-Roman@0 ENC0
/NewCenturySchlbk-Roman RE/NewCenturySchlbk-Bold@0 ENC0
/NewCenturySchlbk-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-112 \203 F)72 50 Q(all 2018 \203 Project 3 \203 Smalltalk)-.888 E
5.444(:O)2 G(bject Orientation)-5.444 E/F1 12/NewCenturySchlbk-Roman@0
SF 3.336(1o)33.956 G 3.336(f4)-3.336 G/F2 11/Courier-Elite@0 SF
($Id: asg3-smalltalk-hzip.mm,v 1.27 2018-10-17 14:06:32-07 - - $)72 67 Q
(PWD: /afs/cats.ucsc.edu/courses/cmps112-wm/Assignments/asg3-smalltalk-\
hzip)72 80 Q(URL: http://www2.ucsc.edu/courses/cmps112-wm/:/Assignments\
/asg3-smalltalk-hzip/)72 93 Q F0 3.444(1. Overview)72 117 R F1 .66
(Smalltalk is a pure object-oriented language)72 137 R 3.996(,w)-.216 G
.66(here everything is an object, and all)-3.996 F 2.003
(actions are accomplished by sending messages)72 151 R 5.339(,e)-.3 G
2.003(ven for what in other languages)-5.339 F 2.019
(would be control structures)72 165 R 8.691(.I)-.3 G 5.355(nt)-8.691 G
2.019(his project we will be using Gnu Smalltalk, the)-5.355 F
(Smalltalk for those who can type)72 179 Q 6.672(.R)-.216 G -1.336
(eferences :)-6.672 F/F3 12/Courier-Elite-Bold@0 SF
(http://smalltalk.gnu.org/)85.5 193 Q
(http://smalltalk.gnu.org/documentation)85.5 207 Q
(https://www.gnu.org/software/smalltalk/manual-base)85.5 221 Q
(ftp://ftp.gnu.org/gnu/smalltalk/smalltalk-3.2.5.tar.gz)85.5 235 Q F0
3.444(2. A)72 261 R(\214le compression utility)3.444 E F1 2.283 -.72
(We p)72 281 T .843
(resent the program speci\214cations in the form of a Unix).72 F F3(man)
4.18 E F1 .844(\(1\) page)B 7.516(.T)-.216 G .844(his pro-)-7.516 F
(gram will use Huffman coding to compress and decompress \214les)72 295
Q(.)-.3 E F0(NAME)72 315 Q F1(hzip)102 329 Q
(.st \212 \214le compression and decompression utility)-.216 E F0
(SYNOPSIS)72 349 Q F3 -.664(hzip.st -dtcu)102 363 R/F4 12
/NewCenturySchlbk-Italic@0 SF(input\214le)5.336 E F1([)5.336 E F4
(output\214le)A F1(])A F0(DESCRIPTION)72 383 Q F1 5.539<418c>102 397 S
2.203(le is either compressed \(with the)-5.539 F F3(-c)5.539 E F1 2.203
(option\), uncompressed \(with the)5.539 F F3(-u)5.539 E F1 1.149
(option\), one of whic)102 411 R 4.485(hi)-.084 G 4.485(sr)-4.485 G
1.149(equired, unless the)-4.485 F F3(-t)4.485 E F1 1.149
(option is speci\214ed.)4.485 F 1.15(The input)7.822 F .793
(\214lename is required.)102 425 R .793
(If the output \214lename is not speci\214ed, output is written)7.465 F
(to the standard output.)102 439 Q F0(OPTIONS)72 459 Q F1 .886(All opti\
ons must be speci\214ed as the \214rst word following the name of the c\
om-)102 473 R .893(mand, unlike the standard)102 487 R F3(getopt)4.229 E
F1 .893(\(3\) used for C programs)B 7.565(.E)-.3 G .893
(xactly one of the)-7.565 F(options)102 501 Q F3(-t)3.336 E F1(,)A F3
(-c)3.336 E F1 3.336(,o)C(r)-3.336 E F3(-u)3.336 E F1(is required.)3.336
E F3(-d)102 521 Q F1 2.25(Debug information is printed for the bene\214\
t of the application author)18 F(.)-1.2 E
(Exact details are not speci\214ed.)132 535 Q F3(-t)102 555 Q F1 .664(T\
he compression algorithm is activated, and the decoding tree is printed)
18 F(to the standard output.)132 569 Q(The output \214lename ma)6.672 E
3.336(yn)-.12 G(ot be speci\214ed.)-3.336 E F3(-c)102 589 Q F1 .356
(The input \214le is compressed and written to the output \214le)18 F
3.693(,i)-.216 G 3.693(fs)-3.693 G .357(peci\214ed, or)-3.693 F
(to the standard output, if not.)132 603 Q F3(-u)102 623 Q F1 .037(The \
input \214le is assumed to be compressed, and is uncompressed, written)
18 F(to the output \214le)132 637 Q 3.336(,i)-.216 G 3.336(fs)-3.336 G
(peci\214ed, or to the standard output, if not.)-3.336 E F0(OPERANDS)72
657 Q F1 1.404(There are one or two \214lename operands)102 671 R 8.076
(.T)-.3 G 1.404(he \214rst is the input \214lename and)-8.076 F .578
(the second is the output \214lename)102 685 R 7.25(.I)-.216 G 3.914(fn)
-7.25 G 3.914(oo)-3.914 G .578
(utput \214lename is speci\214ed, the stan-)-3.914 F
(dard output is written.)102 699 Q 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-112 \203 F)72 50 Q(all 2018 \203 Project 3 \203 Smalltalk)-.888 E
5.444(:O)2 G(bject Orientation)-5.444 E/F1 12/NewCenturySchlbk-Roman@0
SF 3.336(2o)33.956 G 3.336(f4)-3.336 G F0(EXIT ST)72 74 Q -.66(AT)-.66 G
(US).66 E F1 23.328(0N)102 94 S 3.336(oe)-23.328 G(rrors occurred.)
-3.336 E 23.328(1E)102 114 S
(rrors occurred, either in scanning options or opening \214les)-23.328 E
(.)-.3 E F0 3.444(3. Compression)72 140 R F1 .184
(The compression algorithm reads the input \214le twice)72 160 R 3.52
(,o)-.216 G .184(nce to construct the decoding)-3.52 F(tree)72 174 Q
4.626(,a)-.216 G 1.29(nd if the)-4.626 F/F2 12/Courier-Elite-Bold@0 SF
(-c)4.626 E F1 1.289(rather than the)4.625 F F2(-t)4.625 E F1 1.289
(option is speci\214ed, a second time to perform)4.625 F
(the compression.)72 188 Q(It proceeds as follows)6.672 E(:)2 E 2.664
(\(a\) Read)81.336 208 R 1.826
(in the input \214le and create a frequency table)5.161 F 5.162(,c)-.216
G 1.826(ounting the number of)-5.162 F .548(times eac)102 222 R 3.884
(hc)-.084 G .548(haracter appears on input.)-3.968 F .548
(The frequency table is indexed from 0)7.22 F(to 255 with c)102 236 Q
(haracters)-.084 E 6.672(.A)-.3 G
(dd entry 256 with a count of 1 to indicate EOF)-6.672 E(.)-1.5 E 2.664
(\(b\) Iterate)81.336 256 R 1.209(over the frequency table)4.545 F 4.545
(,a)-.216 G 1.209(nd for eac)-4.545 F 4.545(hn)-.084 G 1.209
(on-zero element, create a leaf)-4.545 F 1.627
(node and insert that leaf node into a priority queue)102 270 R 4.962
(,w)-.216 G 1.626(ith the c)-4.962 F 1.626(haracter and)-.084 F .46
(the count.)102 284 R .461(In Smalltalk, use a)7.132 F F2
(SortedCollection)3.797 E F1 7.133(.T)C .461(he counts take precedence)
-7.133 F(,)-.216 E 2.115(but if two entries ha)102 298 R 2.115
(ve the same count, the one with the smaller c)-.12 F(haracter)-.084 E
(\(lexicographically\) is considered smaller)102 312 Q(.)-1.2 E 2.664
(\(c\) Repeatedly)82.68 332 R 1.285
(remove the two smallest elements from the priority queue)4.621 F 4.622
(,c)-.216 G(reat-)-4.622 E .4(ing a new tree whic)102 346 R 3.736(hi)
-.084 G 3.736(st)-3.736 G .399(hen entered into the priority queue)
-3.736 F 7.071(.T)-.216 G .399(he smaller tree)-7.071 F 2.267
(or leaf removed becomes the left c)102 360 R 2.267
(hild, and the larger the right c)-.084 F 5.604(hild. The)-.084 F -.084
(ch)102 374 S .955(arcter in the new tree is the left c).084 F(hild')
-.084 E 4.29(sc)-.3 G(haracter)-4.374 E 7.626(.T)-1.2 G .954
(his process stops when)-7.626 F
(there is only one tree left and the priority queue is empty)102 388 Q
(.)-1.5 E 2.664(\(d\) F)81.12 408 R .845(or eac)-.66 F 4.181(hc)-.084 G
.845(haracter that has appeared as non-zero in the frequency table)
-4.265 F 4.181(,c)-.216 G(on-)-4.181 E .32(struct an encoding string)102
422 R 3.656(,u)-.3 G .32(sing a depth-\214rst tra)-3.656 F 3.655
(versal. The)-.12 F .319(encoding string is)3.655 F 3.336(as)102 436 S
(equence of bits indicating the path from the root to a leaf)-3.336 E(.)
-.444 E 2.664(\(e\) If)82.008 456 R(the)4.595 E F2(-t)4.595 E F1 1.259
(option is speci\214ed, write out the encoding table sorted by c)4.595 F
(haracter)-.084 E(.)-1.2 E 1.596(The \214rst column is a single c)102
470 R(haracter)-.084 E 4.932(,i)-1.2 G 4.932(fp)-4.932 G(rintable)-4.932
E 4.932(,o)-.216 G 4.932(ra)-4.932 G 4.932(ni)-4.932 G 1.596
(nteger if not.)-4.932 F(The)8.268 E 3.014
(second column is the frequency for that c)102 484 R(haracter)-.084 E
9.686(.T)-1.2 G 3.014(he third column is a)-9.686 F .294
(sequence of 0 and 1 c)102 498 R .293(haracters indicating the encoding)
-.084 F 6.965(.F)-.3 G .293(ormat should appear)-7.625 F 1.455
(as if done by one of the following format items)102 512 R 8.127(.I)-.3
G 4.791(nt)-8.127 G 1.455(he table)-4.791 F 4.792(,t)-.216 G 1.456
(he symbol `)-4.792 F(`)-.3 E 529.404 515 529.404 512 DL 534.204 515
529.404 515 DL 534.204 512 534.204 515 DL -.3('')535.404 512 S
(represents a space c)102 526 Q(haracter)-.084 E(.)-1.2 E 433.8 537
208.2 537 DL/F3 12/Times-Roman@0 SF(format item)214.2 548 Q -.18(ex)
48.072 G(ample).18 E 433.8 553 208.2 553 DL F2("x%02X)214.2 564 Q 251.4
567 251.4 564 DL 256.2 567 251.4 567 DL 256.2 564 256.2 567 DL(%5d)257.4
564 Q 276.6 567 276.6 564 DL 281.4 567 276.6 567 DL 281.4 564 281.4 567
DL(%s")282.6 564 Q(x0A)318.6 564 Q 337.8 567 337.8 564 DL 342.6 567
337.8 567 DL 342.6 564 342.6 567 DL 345 567 345 564 DL 349.8 567 345 567
DL 349.8 564 349.8 567 DL 352.2 567 352.2 564 DL 357 567 352.2 567 DL
357 564 357 567 DL 359.4 567 359.4 564 DL 364.2 567 359.4 567 DL 364.2
564 364.2 567 DL(10)365.4 564 Q 378.6 567 378.6 564 DL 383.4 567 378.6
567 DL 383.4 564 383.4 567 DL(11001)384.6 564 Q 433.8 569 208.2 569 DL
(")214.2 580 Q 221.4 583 221.4 580 DL 226.2 583 221.4 583 DL 226.2 580
226.2 583 DL(%c)227.4 580 Q 240.6 583 240.6 580 DL 245.4 583 240.6 583
DL 245.4 580 245.4 583 DL(%5d)246.6 580 Q 265.8 583 265.8 580 DL 270.6
583 265.8 583 DL 270.6 580 270.6 583 DL(%s")271.8 580 Q 319.8 583 319.8
580 DL 324.6 583 319.8 583 DL 324.6 580 324.6 583 DL(a)325.8 580 Q 333
583 333 580 DL 337.8 583 333 583 DL 337.8 580 337.8 583 DL 340.2 583
340.2 580 DL 345 583 340.2 583 DL 345 580 345 583 DL 347.4 583 347.4 580
DL 352.2 583 347.4 583 DL 352.2 580 352.2 583 DL 354.6 583 354.6 580 DL
359.4 583 354.6 583 DL 359.4 580 359.4 583 DL 361.8 583 361.8 580 DL
366.6 583 361.8 583 DL 366.6 580 366.6 583 DL(20)367.8 580 Q 381 583 381
580 DL 385.8 583 381 583 DL 385.8 580 385.8 583 DL(1101)387 580 Q 433.8
585 208.2 585 DL("EOF)214.2 596 Q 239.4 599 239.4 596 DL 244.2 599 239.4
599 DL 244.2 596 244.2 599 DL(%5d)245.4 596 Q 264.6 599 264.6 596 DL
269.4 599 264.6 599 DL 269.4 596 269.4 599 DL(%s")270.6 596 Q(EOF)318.6
596 Q 337.8 599 337.8 596 DL 342.6 599 337.8 599 DL 342.6 596 342.6 599
DL 345 599 345 596 DL 349.8 599 345 599 DL 349.8 596 349.8 599 DL 352.2
599 352.2 596 DL 357 599 352.2 599 DL 357 596 357 599 DL 359.4 599 359.4
596 DL 364.2 599 359.4 599 DL 364.2 596 364.2 599 DL 366.6 599 366.6 596
DL 371.4 599 366.6 599 DL 371.4 596 371.4 599 DL(1)372.6 596 Q 379.8 599
379.8 596 DL 384.6 599 379.8 599 DL 384.6 596 384.6 599 DL(1100000)385.8
596 Q 433.8 601 208.2 601 DL 433.8 537 433.8 601 DL 208.2 537 208.2 601
DL 309.6 537 309.6 601 DL F1 2.664(\(f\) If)84.012 616 R(the)4.444 E F2
(-t)4.444 E F1 1.108
(option is not speci\214ed, write out the encoding table as follows)
4.444 F 7.779(:P)2 G(er)-8.223 E(-)-.444 E .973(form a post-order tra)
102 630 R .974(versal of the decoding tree)-.12 F 4.31(,w)-.216 G .974
(riting out one bit at a time)-4.31 F .847(in big-endian format.)102 644
R .847(for eac)7.519 F 4.183(hl)-.084 G(eaf)-4.183 E 4.183(,w)-.444 G
.847(rite out a 0 bit, followed by the 8 bits of)-4.183 F 1.16
(the corresponding byte)102 658 R 7.832(.W)-.216 G 1.161
(rite out the bits in the order bit 7, bit 6, .)-7.832 F 2(..)2 G 4.497
(,b)-2 G 1.161(it 0,)-4.497 F .888(that is high bit \214rst.)102 672 R
.887(As a special case)7.56 F 4.223(,i)-.216 G 4.223(ft)-4.223 G .887
(he byte is 0, write out bit 8, whic)-4.223 F(h)-.084 E 2.649(will be a\
 0 for a byte value of 0, and 1 for a byte value of 256 \(the EOF)102
686 R(marker\).)102 700 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-112 \203 F)72 50 Q(all 2018 \203 Project 3 \203 Smalltalk)-.888 E
5.444(:O)2 G(bject Orientation)-5.444 E/F1 12/NewCenturySchlbk-Roman@0
SF 3.336(3o)33.956 G 3.336(f4)-3.336 G 2.664(\(g\) F)81.564 74 R .796
(or eac)-.66 F 4.132(hi)-.084 G .796(nterior node)-4.132 F 4.132(,w)
-.216 G .796(rite out a 1 bit.)-4.132 F .795
(When the tree is completely written)7.467 F
(out, write another 1 bit to indicate the end of the tree)102 88 Q(.)
-.216 E 2.664(\(h\) Reopen)80.676 108 R .137
(the input \214le and write out the encoded version of eac)3.472 F 3.473
(hb)-.084 G(yte)-3.473 E 6.809(.A)-.216 G 3.473(te)-6.809 G .137(nd of)
-3.473 F .027(the buffer)102 122 R 3.363(,w)-1.2 G .026
(rite out the encoding string for EOF)-3.363 F 6.698(.T)-1.5 G .026
(hen pad with 0 bits out to a)-6.698 F(byte boundary)102 136 Q 3.336(,i)
-1.5 G 3.336(fn)-3.336 G(eeded.)-3.336 E F0 3.444(4. Decompression)72
162 R F1 1.847 -.66(To u)72 182 T .527(ncompress a \214le).66 F 3.863
(,c)-.216 G .527
(onsider that the compressed \214le has a decoding tree followed)-3.863
F .8(by data.)72 196 R .799(It is possible that the compressed version \
is large than the uncompressed)7.472 F 3.336(version. Proceed)72 210 R
(as follows)3.336 E(:)2 E 2.664(\(a\) Reconstruct)81.336 230 R
(the Huffman decoding tree)3.336 E 6.672(.R)-.216 G(ead one bit.)-6.672
E 2.664(\(b\) If)81.336 250 R .415
(it is a 0, read the next 8 bits and reconstruct the byte)3.751 F 3.752
(,g)-.216 G .416(iving a value from 0)-3.752 F .205(to 255.)102 264 R
.205(If the value is 0, read one more bit, and if it is a 1, add 256 to\
 the byte)6.877 F(,)-.216 E(giving the encoding for EOF)102 278 Q 6.672
(.T)-1.5 G(hen push this byte onto a stac)-6.672 E(k.)-.084 E 2.664
(\(c\) If)82.68 298 R .961(it is a 1, pop the 1-subtree from the stac)
4.296 F .961(k, then pop the 0-subtree from the)-.084 F(stac)102 312 Q
.231(k, and create a new tree with both of those c)-.084 F .23
(hildren and push the new tree)-.084 F(bac)102 326 Q 3.336(ko)-.084 G
3.336(nt)-3.336 G(he stac)-3.336 E(k.)-.084 E 2.664(\(d\) The)81.12 346
R .287
(last extra 1 bit will be read when there is only one tree on the stac)
3.623 F 3.624(k. P)-.084 F(op-)-.444 E
(ping this tree will cause the stac)102 360 Q 3.336(kt)-.084 G 3.336(ob)
-3.336 G 3.336(ee)-3.336 G(mpty)-3.336 E 3.336(,s)-1.5 G 3.336(ot)-3.336
G(his is the decoding tree)-3.336 E(.)-.216 E 2.664(\(e\) Now)82.008 380
R .411(loop over the rest of the input \214le to reconstruct the origin\
al \214le)3.747 F 7.082(:I)2 G(nitial-)-7.082 E
(ize a pointer to the root of the decoding tree)102 394 Q(.)-.216 E
2.664(\(f\) Read)84.012 414 R 4.068(as)4.068 G .732
(ingle bit and use it to move down the 0-link or the 1-link to the c)
-4.068 F(hild)-.084 E(of the current node)102 428 Q(.)-.216 E 2.664
(\(g\) If)81.564 448 R 1.141(thise node is a leaf)4.477 F 4.477(,w)-.444
G 1.141(rite out the corresponding byte and reset the pointer)-4.477 F
(bac)102 462 Q 3.336(kt)-.084 G 3.336(ot)-3.336 G(he root of the tree)
-3.336 E(.)-.216 E 2.664(\(h\) If)80.676 482 R
(not, continue reading bits until you \214nd a leaf)3.336 E(.)-.444 E F0
3.444(5. Ef\214ciency)72 508 R(of the encoding.)3.444 E F1 .969
(The encoded tree contains only instances of those c)72 528 R .969
(haracters that actually occur in)-.084 F .995(the \214le)72 542 R 4.331
(,a)-.216 G .995(nd so is smaller than the complete tree)-4.331 F 7.666
(.I)-.216 G 4.33(nt)-7.666 G .994(he worst case)-4.33 F 4.33(,t)-.216 G
.994(here are 257)-4.33 F .186(different c)72 556 R .186
(haracters to write to the \214le)-.084 F 3.522(,2)-.216 G .186
(55 of whic)-3.522 F 3.523(ha)-.084 G .187
(re encoded as leaf nodes using)-3.523 F 3.589(9b)72 570 S(its)-3.589 E
3.589(,t)-.3 G .253
(he remaining two \(0 and 256\) being encoded using 10 bits)-3.589 F
6.924(.S)-.3 G 3.588(ot)-6.924 G .252(he leaf nodes)-3.588 F .864
(in the tree will consist of at most 255)72 584 R 2.64<d739>2.64 G/F2 12
/Symbol SF(+)A F1 2.64(2\3271)2.64 G(0)-2.64 E F2(=)3.36 E F1 .864
(2315 bits)3.36 F 7.536(.I)-.3 G 4.2(nac)-7.536 G .864(omplete binary)
-4.2 F 1.027(tree with)72 598 R/F3 12/NewCenturySchlbk-Italic@0 SF(n)
4.795 E F1 1.027(nodes there are)4.375 F F3(n)4.795 E F2(-)2.652 E F1
4.362(1i)2.64 G 1.026(nterior nodes)-4.362 F 4.362(,a)-.3 G 1.026
(nd since eac)-4.362 F 4.362(ho)-.084 G 4.362(ft)-4.362 G 1.026
(hese are repre-)-4.362 F .784(sented by 1 bit, there are at most 256 b\
its representing interior nodes)72 612 R 4.12(,w)-.3 G .784(ith a total)
-4.12 F 1.036(of 2315)72 626 R F2(+)2.64 E F1(256)2.64 E F2(=)3.36 E F1
1.036(2571 bits as the worst case for the entire tree)3.36 F 7.707(.2)
-.216 G 1.035(571 bits = 321.375)-7.707 F(bytes)72 640 Q(.)-.3 E 2.125
(Actual Huffman encoding will compress a \214le unless eac)72 660 R
5.461(hb)-.084 G 2.125(yte in the \214le occurs)-5.461 F 1.363
(exactly the same number of bytes in the \214le)72 674 R 4.699(,w)-.216
G(hic)-4.699 E 4.699(hm)-.084 G 1.363(eans that in the worst case)-4.699
F(,)-.216 E .332(the \214le will increase in size by 322 bytes)72 688 R
7.005(.S)-.3 G .333(ome \214les with poor statistical properties)-7.005
F .1(will increase a little)72 702 R 3.436(,b)-.216 G .1
(ut most will in fact be compressed signi\214cantly)-3.436 F(.)-1.5 E F3
-.3(Th)6.771 G 3.435(eC).3 G(omplete)-3.435 E -.66(Wo)72 716 S -.216(rk)
.66 G 5.642(so).216 G 5.642(fW)-5.642 G 2.306(illiam Shakespeare)-5.882
F F1 2.306(is 5,447,534 bytes long)5.642 F 8.978(.T)-.3 G(he)-8.978 E/F4
12/Courier-Elite-Bold@0 SF(compress)5.642 E F1 2.307(program, a)5.643 F
.425(patented algorithm, can compress this to 2,214,693 bytes)72 730 R
7.097(.T)-.3 G(he)-7.097 E F4(gzip)3.761 E F1 .425(program, a free)3.761
F .255
(algorithm, is more ef\214cient a compresses it to 2,015,136 bytes)72
744 R 6.927(.H)-.3 G .255(ow many bytes are)-6.927 F 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-112 \203 F)72 50 Q(all 2018 \203 Project 3 \203 Smalltalk)-.888 E
5.444(:O)2 G(bject Orientation)-5.444 E/F1 12/NewCenturySchlbk-Roman@0
SF 3.336(4o)33.956 G 3.336(f4)-3.336 G
(taken up when the present Huffman algorithm is used)72 74 Q(?)2 E F0
3.444(6. What)72 100 R(to submit)3.444 E F1 .008(Submit a)72 120 R/F2 12
/Courier-Elite-Bold@0 SF(README)3.344 E F1(and)3.344 E F2(hzip.st)3.344
E F1 .007(with a hash-bang and marked as executable)3.344 F 6.679(.S)
-.216 G .007(ubmit a)-6.679 F F2(PARTNER)72 134 Q F1
(\214le if you are doing pair programming)3.336 E 6.672(.S)-.3 G
(ee the rules for pair programming)-6.672 E(.)-.3 E 0 Cg EP
%%Trailer
end
%%EOF
